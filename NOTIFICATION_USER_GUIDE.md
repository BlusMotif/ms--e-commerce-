# How to Enable Background Notifications - User Guide

## For Admins and Agents

### 📱 Quick Setup (One-Time)

1. **Open Your Dashboard**
   - Log in to your admin or agent account
   - Navigate to your dashboard

2. **Enable Sound Notifications**
   - Look for the "Sound On/Off" button (🔊)
   - Click or tap the button to enable sounds

3. **Allow Browser Notifications**
   - A popup will appear asking: _"Allow notifications?"_
   - **Click "Allow" or "Yes"**
   - This is required for background alerts

4. **Test It**
   - You'll see a test notification
   - It says: "Notifications Enabled"
   - This confirms it's working!

### ✅ You're Done!

Now you'll receive notifications for new orders even when:
- The app is minimized
- Your phone screen is locked
- You're using other apps
- The browser is in the background

---

## What You'll Experience

### 📱 On Mobile (Android/iPhone)

**When App is Open:**
- 🔊 Hear a pleasant chime sound
- 📳 Feel a vibration
- 🔔 See a notification banner

**When App is in Background:**
- 🔔 Notification appears on screen
- 🔊 System notification sound plays
- 📳 Device vibrates
- 📱 Badge appears on app icon

**When Phone is Locked:**
- 🔔 Notification on lock screen
- 🔊 Sound plays through speaker
- 📳 Device vibrates
- 💡 Screen lights up (device-dependent)

### 💻 On Desktop (PC/Mac)

**When Browser is Minimized:**
- 🔔 Desktop notification appears
- 🔊 System sound plays
- 📍 Badge on browser/taskbar
- 🔴 Notification in system tray

---

## Troubleshooting

### Not Receiving Notifications?

**1. Check Permission**
- Go to browser settings
- Find "Notifications" or "Site Settings"
- Make sure your site is "Allowed"

**Android Chrome:**
- Settings → Site settings → Notifications
- Find your domain → Set to "Allow"

**iPhone Safari:**
- Settings → Safari → Notifications
- Enable notifications for your domain

**Desktop Chrome:**
- Settings → Privacy and security → Site settings → Notifications
- Your domain should be in "Allow" list

**2. Check Device Settings**
- Make sure notifications are enabled for your browser
- Check device is not in "Do Not Disturb" mode
- Ensure volume is turned up

**3. Keep App Active**
- Don't completely close the app
- Keep it in recent apps (background)
- Browser tab should stay open

### Sound Not Playing in Background?

**This is Normal!**
- Browsers don't allow audio in background
- Instead, you get:
  - ✅ Browser notification with system sound
  - ✅ Vibration (on mobile)
  - ✅ Visual alert

**The browser notification sound is your alert** when the app is in the background.

### iPhone Specific

**iOS 16.3 or Earlier:**
- Web notifications not fully supported
- **Solution**: Add site to home screen (PWA)
  1. Tap Share button in Safari
  2. Tap "Add to Home Screen"
  3. Open from home screen icon
  4. Better notification support

**iOS 16.4+:**
- Full notification support in Safari
- Must use Safari (not Chrome/Firefox on iOS)
- Grant permission when prompted

---

## Tips for Best Results

### ✅ Do's

1. **Allow Notifications** when prompted
2. **Keep App in Background** (don't swipe away)
3. **Check Regularly** to ensure still working
4. **Enable Sound** on your dashboard
5. **Test Notifications** after enabling

### ❌ Don'ts

1. **Don't Swipe Away** the app completely
2. **Don't Block Notifications** in settings
3. **Don't Use "Do Not Disturb"** mode during work hours
4. **Don't Close Browser** completely
5. **Don't Ignore Permission** requests

---

## What Happens When Order Arrives

### Timeline of Events

**Immediate (0 seconds):**
1. 🔔 Notification appears
2. 🔊 Sound plays (if foreground) or system sound (if background)
3. 📳 Device vibrates

**If Not Dismissed (Every 5 seconds):**
- Notification reminder
- Additional vibration
- Sound plays again (if foreground)

**Until You:**
- Open the app
- View the orders page
- Click on the notification

---

## Privacy & Security

### Your Privacy
- ✅ No personal data collected
- ✅ Notifications are client-side only
- ✅ No external servers involved
- ✅ Can be disabled anytime

### Your Control
- You decide when to enable
- You can disable anytime
- You can revoke permission in browser settings
- Sound On/Off toggle always available

---

## FAQ

**Q: Will this drain my battery?**
A: Minimal impact. Notifications are lightweight and only trigger on new orders.

**Q: Can I customize the notification sound?**
A: Currently uses system notification sound. Custom sounds coming in future update.

**Q: Will it work if I close the browser?**
A: No. The browser needs to be running (can be minimized or in background).

**Q: Do I need to enable this every time?**
A: No! Once enabled, it stays enabled until you turn it off.

**Q: What if I accidentally denied permission?**
A: Go to browser settings and manually allow notifications for the site.

**Q: Will customers get these notifications?**
A: No. Only admins and agents see the notification toggle and receive alerts.

**Q: Can I turn off vibration but keep sound?**
A: Currently they work together. Individual controls coming in future update.

**Q: Does it work on iPad?**
A: Yes! Works same as iPhone (iOS 16.4+ required for best results).

**Q: What about WhatsApp or Telegram notifications?**
A: Currently browser-only. Third-party integrations planned for future.

---

## Support

Having issues? Here's what to provide:

1. **Device**: iPhone 14, Samsung Galaxy S21, etc.
2. **Browser**: Safari, Chrome, Firefox
3. **OS Version**: iOS 17, Android 13, etc.
4. **Issue**: Describe what's not working
5. **Screenshot**: If possible

Contact your system administrator with this information.

---

## Summary

### To Enable Notifications:
1. Click "Sound On" button ✅
2. Allow browser permission ✅
3. Keep app running ✅
4. Done! 🎉

### You'll Get Notified:
- Even when app is minimized ✅
- Even when phone is locked ✅
- Even when using other apps ✅
- Every time a new order arrives ✅

### Remember:
- One-time setup
- Works in background
- Can be disabled anytime
- Your privacy is protected

**Enjoy staying informed about new orders, no matter what you're doing!** 🔔📱✨
